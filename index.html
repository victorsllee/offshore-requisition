<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kitchen Requisition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .sticky-header { position: sticky; top: 0; z-index: 40; }
        input[type="checkbox"] { transform: scale(1.2); }
        .tab-active { border-bottom: 3px solid #2563eb; color: #2563eb; font-weight: bold; }
        .qty-input { width: 75px; text-align: center; border: 1px solid #d1d5db; border-radius: 4px; padding: 4px; font-weight: bold; color: #1d4ed8; }
        input[type="text"] { font-size: 16px; } 
        .category-header { background: #1e3a8a; color: white; padding: 8px 12px; font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; margin-top: 20px; border-radius: 8px 8px 0 0; }
        .item-row { background: white; border: 1px solid #e5e7eb; border-top: none; }
        .item-row:last-child { border-radius: 0 0 8px 8px; }
    </style>
</head>
<body class="bg-gray-100 pb-32">

    <div class="bg-white shadow-md sticky-header p-4">
        <h1 class="text-xl font-bold text-center mb-3 text-gray-800">Inventory Check / Kiá»ƒm Kho</h1>
        
        <div class="flex justify-around mb-4 border-b">
            <button id="btn-kitchen" class="pb-2 px-4 tab-active transition-all" onclick="switchTab('kitchen')">Kitchen / Báº¿p</button>
            <button id="btn-floor" class="pb-2 px-4 text-gray-500 transition-all" onclick="switchTab('floor')">Floor & Bar</button>
        </div>

        <div class="relative">
            <input type="text" id="searchInput" onkeyup="filterItems()" placeholder="Search item / TÃ¬m mÃ³n..." 
                   class="w-full p-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50">
        </div>
    </div>

    <div id="inventory-list" class="max-w-md mx-auto p-2">
        <!-- Manual Sorted List will be injected here -->
    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-white border-t p-4 shadow-lg flex items-center justify-between z-50">
        <div class="flex flex-col">
            <span class="text-[10px] text-gray-400 uppercase font-black tracking-widest">Selected</span>
            <span id="selected-count" class="text-2xl text-blue-600 font-black leading-none">0</span>
        </div>
        <button onclick="generateOrder()" class="bg-blue-600 text-white px-8 py-4 rounded-xl font-bold active:bg-blue-700 transition transform active:scale-95 shadow-xl">
            SEND REQUISITION
        </button>
    </div>

    <script>
        // DATA SORTED BY FREQUENCY OF REPLENISHMENT (FROM MD)
        const kitchenData = [
            // PRODUCE
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "BÃ´ng cáº£i xanh / Broccoli", unit: "kg", qty: 2 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "BÃ´ng cáº£i tráº¯ng / Cauliflower", unit: "kg", qty: 2 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Äáº­u quÃª / Green beans", unit: "kg", qty: 1 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "CÃ  rá»‘t / Carrots", unit: "kg", qty: 10 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Báº¯p cáº£i / Cabbage", unit: "CÃ¡i", qty: 1 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "XÃ  lÃ¡ch batavia / Batavia lettuce", unit: "Cá»ng", qty: 5 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "CÃ  chua bÃ©t chÃ­n / Beef tomatoes", unit: "Kg", qty: 3 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "CÃ  chua bÃ­ (bá»‹ch 1kg) / Cherry tomatoes", unit: "Bá»‹ch", qty: 1 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Cá»§ hÃ nh tÃ¢y to / Large onions", unit: "kg", qty: 5 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Cá»§ hÃ nh tÃ¢y tÃ­m / Shallots", unit: "VNÄ", qty: "10k" },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Cá»§ hÃ nh tÃ¢y nhá» / Small onions", unit: "Cá»§", qty: 50 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Khoai tÃ¢y vá» tráº¯ng / White potatoes", unit: "kg", qty: 5 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Khoai tÃ¢y vá» Ä‘á» / Red potatoes", unit: "kg", qty: 10 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "BÃ­ Ä‘á» / Pumpkin", unit: "Quáº£", qty: 2 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Cá»§ dá»n to trÃ²n / Beetroot", unit: "Cá»§", qty: 2 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "á»št hiá»ƒm Ä‘á» / Bird's eye chili", unit: "VNÄ", qty: "15k" },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Báº¯p má»¹ / Yellow corn", unit: "TrÃ¡i", qty: 3 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Chanh nÆ°á»›c cÃ³ háº¡t / Lime", unit: "kg", qty: 1.5 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "á»št chuÃ´ng xanh / Green capsicum", unit: "kg", qty: 1 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "á»št chuÃ´ng Ä‘á» / Red capsicum", unit: "kg", qty: 1 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Náº¥m rÆ¡m / Straw mushroom", unit: "kg", qty: 2 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Náº¥m hÆ°Æ¡ng / Shiitake mushroom", unit: "bá»‹ch", qty: 2 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "NgÃ² tÃ¢y / Parsley", unit: "Gram", qty: 150 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "HÆ°Æ¡ng tháº£o / Rosemary", unit: "Bá»‹ch", qty: 2 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Cáº§n tÃ¢y Ã©p nÆ°á»›c / Celery", unit: "Cá»ng", qty: 2 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Tá»i nguyÃªn cá»§ / Whole garlic", unit: "Cá»§", qty: 20 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Tá»i xay nhuyá»…n / Minced garlic", unit: "VNÄ", qty: "15k" },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Xáº£ / Lemongrass", unit: "VNÄ", qty: "20k" },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Cáº£i tháº£o / Chinese cabbage", unit: "Cá»ng", qty: 1 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Cáº£i thÃ¬a / Bok choy", unit: "Gram", qty: 500 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "ThÃ¬ lÃ  / Dill", unit: "VNÄ", qty: "10k" },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "ThÆ¡m / Pineapple", unit: "TrÃ¡i", qty: 1 },
            { cat: "RAU Cá»¦ / PRODUCE (VEG)", name: "Äáº­u hÅ© chiÃªn / Fried tofu", unit: "Há»™p", qty: 2 },

            // FRESH PROTEIN
            { cat: "THá»ŠT TÆ¯Æ I / FRESH PROTEIN", name: "Má»¡ heo / Pork fat", unit: "kg", qty: 2 },
            { cat: "THá»ŠT TÆ¯Æ I / FRESH PROTEIN", name: "CÃ¡ cháº½m / Sea bass", unit: "kg", qty: 10 },
            { cat: "THá»ŠT TÆ¯Æ I / FRESH PROTEIN", name: "á»¨c gÃ  / Chicken breast", unit: "kg", qty: 5 },
            { cat: "THá»ŠT TÆ¯Æ I / FRESH PROTEIN", name: "TÃ´m / Shrimp", unit: "kg", qty: 2 },
            { cat: "THá»ŠT TÆ¯Æ I / FRESH PROTEIN", name: "Má»±c / Squid", unit: "kg", qty: 3 },
            { cat: "THá»ŠT TÆ¯Æ I / FRESH PROTEIN", name: "Náº¡c dÄƒm / Pork shoulder", unit: "kg", qty: 12 },

            // DAIRY
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "Trá»©ng / Eggs", unit: "Quáº£", qty: 150 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "Sá»¯a tÆ°Æ¡i / Fresh milk", unit: "ThÃ¹ng", qty: 1 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "Sá»¯a Ä‘áº·c há»™p nhá» / Condensed milk", unit: "Há»™p", qty: 10 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "BÆ¡ (viÃªn) / Butter cubes", unit: "Há»™p", qty: 5 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "BÆ¡ (Khá»‘i) / Block butter", unit: "kg", qty: 5 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "Kem náº¥u Äƒn / Cooking cream", unit: "Há»™p", qty: 6 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "PhÃ´ mai Cheddar", unit: "Bá»‹ch", qty: 5 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "PhÃ´ mai Parmesan", unit: "Bá»‹ch", qty: 1 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "PhÃ´ mai xanh / Blue cheese", unit: "CÃ¡i", qty: 1 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "PhÃ´ mai Brie", unit: "Há»™p", qty: 12 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "PhÃ´ mai Swiss Emmental", unit: "CÃ¢y", qty: 1 },
            { cat: "Sá»®A & TRá»¨NG / DAIRY & EGGS", name: "PhÃ´ mai BÃ² CÆ°á»i", unit: "Há»™p", qty: 1 },

            // FROZEN
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "Pepperoni", unit: "Bá»‹ch", qty: 15 },
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "XÃºc xÃ­ch / Sausages", unit: "Bá»‹ch", qty: 7 },
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "BÃ² steak / Beef steak", unit: "kg", qty: 12 },
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "Roast beef", unit: "kg", qty: 12 },
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "Thá»‹t xÃ´ng khÃ³i / Bacon", unit: "Bá»‹ch", qty: 30 },
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "ÄÃ¹i cá»«u / Lamb leg", unit: "kg", qty: 12 },
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "Äáº­u pea / Peas", unit: "Bá»‹ch", qty: 3 },
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "PhÃ´ mai Mozzarella", unit: "ThÃ¹ng", qty: 4 },
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "Khoai Ä‘Ã´ng láº¡nh shoestring", unit: "ThÃ¹ng", qty: 2 },
            { cat: "ÄÃ”NG Láº NH / FROZEN", name: "Viá»‡t quáº¥t / Blueberry", unit: "Bá»‹ch", qty: 3 },

            // DRY STORE
            { cat: "KHO / DRY STORE", name: "TiÃªu Ä‘en / Black pepper", unit: "Gram", qty: 500 },
            { cat: "KHO / DRY STORE", name: "Muá»‘i Iod / Iodine Salt", unit: "Bá»‹ch", qty: 2 },
            { cat: "KHO / DRY STORE", name: "ÄÆ°á»ng / Sugar", unit: "Bá»‹ch", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Háº¡t nÃªm xÆ°Æ¡ng Aji-ngon", unit: "Bá»‹ch", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Bá»™t nÄƒng / Corn starch", unit: "Bá»‹ch", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Giáº¥m / Vinegar", unit: "Chai", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Dáº§u hÃ u / Oyster sauce", unit: "Chai", qty: 1 },
            { cat: "KHO / DRY STORE", name: "NÆ°á»›c tÆ°Æ¡ng / Soya sauce", unit: "Chai", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Háº¡t Ä‘iá»u / Cashew", unit: "Gram", qty: 200 },
            { cat: "KHO / DRY STORE", name: "á»št bá»™t / Chili flakes", unit: "Há»§", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Bá»™t cÃ  ri Babas", unit: "Bá»‹ch", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Bá»™t chiÃªn giÃ²n", unit: "Bá»‹ch", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Bá»™t chiÃªn xÃ¹", unit: "Kg", qty: 20 },
            { cat: "KHO / DRY STORE", name: "Baked beans Ayam", unit: "Há»™p", qty: 6 },
            { cat: "KHO / DRY STORE", name: "Dáº§u Äƒn CÃ¡i LÃ¢n", unit: "ThÃ¹ng", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Gáº¡o ST25 / Rice ST25", unit: "Kg", qty: 10 },
            { cat: "KHO / DRY STORE", name: "Dáº§u Ã´ liu / Olive oil", unit: "Chai", qty: 1 },
            { cat: "KHO / DRY STORE", name: "CÃ  chua lÆ°á»£t vá» / Peeled", unit: "ThÃ¹ng", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Tomato paste", unit: "ThÃ¹ng", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Bá»™t Pancake / Pancake mix", unit: "Há»™p", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Bá»™t sá»‘t gravy / Gravy mix", unit: "Há»™p", qty: 2 },
            { cat: "KHO / DRY STORE", name: "NÆ°á»›c cá»‘t dá»«a / Coconut milk", unit: "Há»™p", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Äáº­u gÃ  / Chickpeas", unit: "Há»™p", qty: 2 },
            { cat: "KHO / DRY STORE", name: "TÆ°Æ¡ng cÃ  (GÃ³i)", unit: "ThÃ¹ng", qty: 1 },
            { cat: "KHO / DRY STORE", name: "TÆ°Æ¡ng á»›t (GÃ³i)", unit: "ThÃ¹ng", qty: 1 },
            { cat: "KHO / DRY STORE", name: "RÆ°á»£u vang Classic Dalat", unit: "Chai", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Bá»™t mÃ¬ Ä‘á»‹a cáº§u 999", unit: "Bao", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Bá»™t mÃ¬ Semolina", unit: "Bá»‹ch", qty: 1 },
            { cat: "KHO / DRY STORE", name: "BÆ¡ thÆ¡m / Margarine", unit: "Gram", qty: 500 },
            { cat: "KHO / DRY STORE", name: "Bá»™t bÃ©o HÃ  Lan / Creamer", unit: "Bá»‹ch", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Phá»¥ gia bÃ¡nh mÃ¬ Baker 999", unit: "Bá»‹ch", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Bá»™t nÄƒng khoai / Tapioca", unit: "Bá»‹ch", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Fibrisol (ham)", unit: "Bá»‹ch", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Muá»‘i Ä‘á» há»“ng (ham)", unit: "Bá»‹ch", qty: 1 },

            // JARS & SAUCES
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "Ã” liu Ä‘en khÃ´ng háº¡t", unit: "Há»™p", qty: 1 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "Ná»¥ báº¡ch hoa / Capers", unit: "Há»™p", qty: 1 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "DÆ°a chuá»™t muá»‘i / Pickles", unit: "Há»™p", qty: 1 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "á»št Jalapenos", unit: "Chai", qty: 1 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "MÃ¹ táº¡t vÃ ng / Mustard", unit: "Chai", qty: 1 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "Wasabi", unit: "CÃ¡i", qty: 2 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "Mayonnaise", unit: "Há»™p", qty: 1 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "Maple syrup", unit: "Chai", qty: 2 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "Sá»‘t BBQ / BBQ sauce", unit: "Chai", qty: 2 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "Jam viá»‡t quáº¥t / Jam", unit: "Há»§", qty: 1 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "Nutella", unit: "Há»§", qty: 1 },

            // PACKAGING
            { cat: "BAO BÃŒ / PACKAGING", name: "Há»™p xá»‘p (Lá»›n)", unit: "Lá»‘c", qty: 1 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Há»™p xá»‘p (Nhá»)", unit: "Lá»‘c", qty: 1 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Há»™p nhá»±a Ä‘á»±ng sá»‘t", unit: "Lá»‘c", qty: 1 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Há»™p nhá»±a syrup / Syrup cont.", unit: "Lá»‘c", qty: 1 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Há»™p nhá»±a 750ml (sÃºp)", unit: "Lá»‘c", qty: 1 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Há»™p Ä‘á»±ng pizza", unit: "CÃ¡i", qty: 500 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Bao tÃ¢y nilon / Gloves", unit: "Lá»‘c", qty: 3 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Bá»‹ch chia 17x27", unit: "kg", qty: 3 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Bá»‹ch mang vá» 15kg", unit: "kg", qty: 3 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Bá»‹ch mang vá» 10kg", unit: "kg", qty: 3 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Bá»‹ch mang vá» 5kg", unit: "kg", qty: 3 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Bá»‹ch ráº¯c Ä‘en 30kg", unit: "kg", qty: 3 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Giáº¥y vuÃ´ng burger 33cm", unit: "kg", qty: 2 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Giáº¥y náº¿n nÆ°á»›ng / Oven paper", unit: "Há»™p", qty: 1 },
            { cat: "BAO BÃŒ / PACKAGING", name: "MÃ ng PE báº¿p", unit: "Há»™p", qty: 1 },
            { cat: "BAO BÃŒ / PACKAGING", name: "Giáº¥y báº¡c / Aluminium wrap", unit: "Há»™p", qty: 1 },
            { cat: "BAO BÃŒ / PACKAGING", name: "DÃ¢y chun / Rubber band", unit: "Bá»‹ch", qty: 1 },
            { cat: "BAO BÃŒ / PACKAGING", name: "XiÃªn tre / Bamboo sticks", unit: "Bá»‹ch", qty: 1 },

            // SUPPLIES
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "NÆ°á»›c rá»­a chÃ©n / Dishwashing", unit: "ThÃ¹ng", qty: 1 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "NÆ°á»›c lÃ¢u nhÃ  / Floor det.", unit: "BÃ¬nh", qty: 1 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "NÆ°á»›c lÃ¢u báº¿p / Kitchen spray", unit: "Chai", qty: 1 }
        ];

        const floorData = [
            // BEVERAGE
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "CÃ  phÃª Viá»‡t Nam", unit: "kg", qty: 1 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Nescafe Äá»", unit: "Há»™p", qty: 2 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "TrÃ  Lipton / Tea bags", unit: "Há»™p", qty: 1 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "ÄÆ°á»ng quÃª / Sugar sticks", unit: "Bá»‹ch", qty: 3 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Tiger / Crystal", unit: "KÃ©t", qty: 1 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Saigon Green / Red", unit: "KÃ©t", qty: 1 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "San Miguel", unit: "KÃ©t", qty: 1 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Coke", unit: "ThÃ¹ng", qty: 3 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Coke light", unit: "ThÃ¹ng", qty: 2 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "7Up", unit: "ThÃ¹ng", qty: 2 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Soda", unit: "ThÃ¹ng", qty: 1 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Aqua 500ml", unit: "ThÃ¹ng", qty: 3 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "RÆ°á»£u Table Mountain Red", unit: "Chai", qty: 2 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "RÆ°á»£u Table Mountain White", unit: "Chai", qty: 2 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Jack Daniels", unit: "Chai", qty: 1 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Captain Morgan", unit: "Chai", qty: 1 },
            { cat: "Äá»’ Uá»NG / BEVERAGE", name: "Vodka", unit: "Chai", qty: 2 },

            // JARS & SAUCES
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "NÆ°á»›c sá»‘t HP / HP sauce", unit: "Chai", qty: 3 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "NÆ°á»›c sá»‘t Worcestershire", unit: "Chai", qty: 3 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "Sriracha", unit: "Chai", qty: 3 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "NÆ°á»›c tÆ°Æ¡ng chai nhá»", unit: "Chai", qty: 3 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "TÆ°Æ¡ng á»›t chai", unit: "ThÃ¹ng", qty: 1 },
            { cat: "GIA Vá»Š & Sá»T / JARS & SAUCES", name: "TÆ°Æ¡ng cÃ  chai", unit: "ThÃ¹ng", qty: 1 },

            // DRY STORE
            { cat: "KHO / DRY STORE", name: "Muá»‘i kho bÃ n / Table salt", unit: "Bá»‹ch", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Háº¡nh nhÃ¢n 300g / Almonds", unit: "Há»§", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Whey", unit: "Há»§", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Bá»™t cacao / Cocoa powder", unit: "Há»§", qty: 1 },
            { cat: "KHO / DRY STORE", name: "BÃ¡nh ladyfingers", unit: "Bá»‹ch", qty: 2 },
            { cat: "KHO / DRY STORE", name: "Máº­t ong / Honey", unit: "Chai", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Yáº¿n máº¡ch / Oats", unit: "Há»§", qty: 1 },
            { cat: "KHO / DRY STORE", name: "Da ua / Yogurt", unit: "Há»™p", qty: 6 },

            // FRUIT
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "Quáº£ cam / Orange", unit: "kg", qty: 10 },
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "XoÃ i chÃ­n / Mango ripened", unit: "Quáº£", qty: 8 },
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "DÆ°a háº¥u / Watermelon", unit: "Quáº£", qty: 1 },
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "Chuá»‘i / Banana", unit: "kg", qty: 1 },
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "Chanh dÃ¢y / Passion fruit", unit: "kg", qty: 2 },
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "Dá»«a / Coconut", unit: "Quáº£", qty: 20 },
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "á»”i / Guava", unit: "kg", qty: 1 },
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "ThÆ¡m / Pineapple", unit: "Quáº£", qty: 1 },
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "BÆ¡ / Avocado", unit: "Quáº£", qty: 2 },
            { cat: "TRÃI CÃ‚Y / FRUIT", name: "Chanh nÆ°á»›c cÃ³ háº¡t / Lime", unit: "kg", qty: 1 },

            // SUPPLIES
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "Giáº¥y lá»¥a / Tissues", unit: "Bá»‹ch", qty: 5 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "TÄƒm xá»‰a rÄƒng / Toothpicks", unit: "Há»™p", qty: 1 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "KhÄƒn Äƒn vuÃ´ng / Napkins", unit: "Bá»‹ch", qty: 5 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "á»ng hÃºt / Straws", unit: "Bá»‹ch", qty: 1 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "Ly giáº¥y 500ml", unit: "Lá»‘c", qty: 1 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "Náº¯p ly giáº¥y / Lids", unit: "Lá»‘c", qty: 1 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "TÃºi quai T / Carrier", unit: "Lá»‘c", qty: 1 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "Nhang muá»—i / Repellant", unit: "Lá»‘c", qty: 1 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "Há»™p quáº¹t / Lighter", unit: "CÃ¡i", qty: 2 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "BÃºt / Pen", unit: "CÃ¡i", qty: 10 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "BÃºt báº£ng Ä‘en / Marker", unit: "CÃ¡i", qty: 2 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "BÃºt dáº¡ vÄ©nh cá»­u / Marker", unit: "CÃ¡i", qty: 2 },
            { cat: "Váº¬T TÆ¯ / SUPPLIES", name: "Giáº¥y in bill 80mm", unit: "Cuá»‘n", qty: 5 }
        ];

        let currentTab = 'kitchen';
        let selections = new Map(); 

        function renderList() {
            const list = document.getElementById('inventory-list');
            list.innerHTML = '';
            const data = currentTab === 'kitchen' ? kitchenData : floorData;
            
            let currentCat = '';
            data.forEach((item, index) => {
                if (item.cat !== currentCat) {
                    currentCat = item.cat;
                    list.innerHTML += `<div class="category-header">${currentCat}</div>`;
                }

                const itemId = `${currentTab}-${index}`;
                const isChecked = selections.has(itemId);
                const currentVal = isChecked ? selections.get(itemId) : item.qty;
                const bgClass = isChecked ? 'bg-blue-50 border-blue-300' : 'bg-white border-gray-200';
                const opacityClass = isChecked ? 'opacity-100' : 'opacity-20';

                list.innerHTML += `
                    <div id="row-${itemId}" class="item-row flex items-center p-3 border border-t-0 bg-white ${bgClass} transition-all duration-200 shadow-sm first:rounded-t-none last:rounded-b-lg">
                        <div class="flex items-center justify-center mr-3" onclick="toggleItem('${itemId}', '${item.qty}')">
                            <input type="checkbox" id="check-${itemId}" ${isChecked ? 'checked' : ''} class="pointer-events-none w-5 h-5">
                        </div>
                        <div class="flex-grow" onclick="toggleItem('${itemId}', '${item.qty}')">
                            <div class="font-bold text-gray-800 text-sm leading-tight">${item.name}</div>
                            <div class="text-[10px] text-gray-400 uppercase font-black">${item.unit}</div>
                        </div>
                        <div class="flex items-center ${opacityClass} transition-opacity">
                            <input type="text" id="qty-${itemId}" 
                                   value="${currentVal}" 
                                   class="qty-input focus:ring-2 focus:ring-blue-500 outline-none shadow-inner"
                                   onchange="updateQty('${itemId}', this.value)"
                                   onclick="event.stopPropagation()">
                        </div>
                    </div>
                `;
            });
            updateCount();
        }

        function toggleItem(id, defaultQty) {
            const row = document.getElementById(`row-${id}`);
            const checkbox = document.getElementById(`check-${id}`);
            const inputContainer = row.querySelector('.flex.items-center.transition-opacity');
            
            if (selections.has(id)) {
                selections.delete(id);
                row.classList.remove('bg-blue-50', 'border-blue-300');
                checkbox.checked = false;
                inputContainer.classList.add('opacity-20');
            } else {
                selections.set(id, defaultQty);
                row.classList.add('bg-blue-50', 'border-blue-300');
                checkbox.checked = true;
                inputContainer.classList.remove('opacity-20');
            }
            updateCount();
        }

        function updateQty(id, newVal) {
            selections.set(id, newVal);
            const row = document.getElementById(`row-${id}`);
            if (!document.getElementById(`check-${id}`).checked) {
                document.getElementById(`check-${id}`).checked = true;
                row.classList.add('bg-blue-50', 'border-blue-300');
                row.querySelector('.flex.items-center.transition-opacity').classList.remove('opacity-20');
            }
            updateCount();
        }

        function switchTab(tab) {
            currentTab = tab;
            document.getElementById('btn-kitchen').className = tab === 'kitchen' ? 'pb-2 px-4 tab-active' : 'pb-2 px-4 text-gray-500';
            document.getElementById('btn-floor').className = tab === 'floor' ? 'pb-2 px-4 tab-active' : 'pb-2 px-4 text-gray-500';
            document.getElementById('searchInput').value = '';
            renderList();
        }

        function updateCount() {
            document.getElementById('selected-count').innerText = selections.size;
        }

        function filterItems() {
            const val = document.getElementById('searchInput').value.toLowerCase();
            const rows = document.querySelectorAll('.item-row');
            rows.forEach(row => {
                const text = row.innerText.toLowerCase();
                row.style.display = text.includes(val) ? 'flex' : 'none';
            });
            const headers = document.querySelectorAll('.category-header');
            headers.forEach(h => {
                let sibling = h.nextElementSibling;
                let hasVisible = false;
                while (sibling && sibling.classList.contains('item-row')) {
                    if (sibling.style.display !== 'none') hasVisible = true;
                    sibling = sibling.nextElementSibling;
                }
                h.style.display = hasVisible ? 'block' : 'none';
            });
        }

        function generateOrder() {
            if (selections.size === 0) {
                alert("Please select items!");
                return;
            }

            const now = new Date();
            const timeStr = now.getHours().toString().padStart(2, '0') + ":" + now.getMinutes().toString().padStart(2, '0');
            let message = `ðŸ›’ REQUISITION - ${now.toLocaleDateString()} (${timeStr})\n`;
            message += `==========================\n`;

            const kitchenLines = [];
            const floorLines = [];

            // Sort logic for output: Preserve the array order
            kitchenData.forEach((item, index) => {
                const id = `kitchen-${index}`;
                if (selections.has(id)) kitchenLines.push(`â€¢ ${item.name}: ${selections.get(id)} ${item.unit}`);
            });
            floorData.forEach((item, index) => {
                const id = `floor-${index}`;
                if (selections.has(id)) floorLines.push(`â€¢ ${item.name}: ${selections.get(id)} ${item.unit}`);
            });

            if (kitchenLines.length > 0) message += `\n[KITCHEN / Báº¾P]\n` + kitchenLines.join('\n') + `\n`;
            if (floorLines.length > 0) message += `\n[FLOOR & BAR]\n` + floorLines.join('\n') + `\n`;

            const encodedMsg = encodeURIComponent(message);
            window.location.href = `whatsapp://send?phone=84364663202&text=${encodedMsg}`;
            
            setTimeout(() => {
                const temp = document.createElement('textarea');
                temp.value = message;
                document.body.appendChild(temp);
                temp.select();
                document.execCommand('copy');
                document.body.removeChild(temp);
                alert("Order copied to clipboard! Paste it into WhatsApp, Zalo, or SMS to send.");
            }, 800);
        }

        window.onload = renderList;
    </script>
</body>
</html>
